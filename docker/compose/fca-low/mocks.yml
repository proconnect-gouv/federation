services:
  ####################
  # SP Mocks
  ####################

  service-provider-1:
    hostname: service-provider-1
    extends:
      file: ../shared/shared.yml
      service: base-sp-mock
    env_file:
      - '../shared/.env/base-app.env'
      - '../fca-low/.env/fsa1-low.env'

  service-provider-2:
    hostname: service-provider-2
    extends:
      file: ../shared/shared.yml
      service: base-sp-mock
    env_file:
      - '../shared/.env/base-app.env'
      - '../fca-low/.env/fsa2-low.env'

  service-provider-3:
    hostname: service-provider-3
    extends:
      file: ../shared/shared.yml
      service: base-sp-mock
    env_file:
      - '../shared/.env/base-app.env'
      - '../fca-low/.env/fsa3-low.env'

  service-provider-4:
    hostname: service-provider-4
    extends:
      file: ../shared/shared.yml
      service: base-sp-mock
    env_file:
      - '../shared/.env/base-app.env'
      - '../fca-low/.env/fsa4-low.env'

  ####################
  # IDP Mocks
  ####################

  identity-provider-1:
    hostname: identity-provider-1
    extends:
      file: ../shared/shared.yml
      service: base-idp-mock
    env_file:
      - '../shared/.env/base-app.env'
      - '../fca-low/.env/fia1-low.env'

  identity-provider-2:
    hostname: identity-provider-2
    extends:
      file: ../shared/shared.yml
      service: base-idp-mock
    env_file:
      - '../shared/.env/base-app.env'
      - '../fca-low/.env/fia2-low.env'

  proconnect-identite:
    hostname: proconnect-identite
    extends:
      file: ../shared/shared.yml
      service: base-idp-mock
    env_file:
      - '../shared/.env/base-app.env'
      - '../fca-low/.env/moncomptepro.env'

  identity-provider-rie:
    hostname: identity-provider-rie
    extends:
      file: ../shared/shared.yml
      service: base-idp-mock
    env_file:
      - '../shared/.env/base-app.env'
      - '../fca-low/.env/fia-rie-low.env'
    networks:
      - rie

  identity-provider-llng:
    build:
      context: '../..'
      dockerfile: 'builds/lemonldap/Dockerfile'
    volumes:
      - '../../volumes/llng/scripts/:/scripts:ro'
      - '../../volumes/llng/llng-conf.json:/llng-conf.json:ro'
    env_file:
      - '../fca-low/.env/fia-llng-low.env'
    networks:
      - rie

  ####################
  # DP Mocks
  ####################

  resource-server-1:
    hostname: resource-server-1
    extends:
      file: ../shared/shared.yml
      service: base-dp-mock
    env_file:
      - '../shared/.env/base-app.env'
      - '../fca-low/.env/dpa1-low.env'

  resource-server-2:
    hostname: resource-server-2
    extends:
      file: ../shared/shared.yml
      service: base-dp-mock
    env_file:
      - '../shared/.env/base-app.env'
      - '../fca-low/.env/dpa2-low.env'
