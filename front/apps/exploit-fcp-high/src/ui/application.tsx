/* istanbul ignore file */

// declarative file
import React from 'react';
import { BrowserRouter } from 'react-router-dom';
import thunk from 'redux-thunk';

import { LayoutAdminComponent } from '@fc/backoffice';
import { StoreProvider } from '@fc/state-management';

import {
  IS_DEVELOPMENT,
  LOCALSTORAGE_PERSIST_KEY,
  PUBLIC_URL,
  reducers,
  routes,
  states,
} from '../config';

const Application = () => (
  <React.StrictMode>
    <StoreProvider
      debugMode={IS_DEVELOPMENT}
      middlewares={[thunk]}
      persistKey={LOCALSTORAGE_PERSIST_KEY}
      reducers={reducers}
      states={states}
    >
      <BrowserRouter basename={PUBLIC_URL}>
        <LayoutAdminComponent routes={routes} />
      </BrowserRouter>
    </StoreProvider>
  </React.StrictMode>
);

Application.displayName = 'Application';

export default Application;
