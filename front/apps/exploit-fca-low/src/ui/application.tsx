/* istanbul ignore file */

// declarative file
import './styles/index.scss';

import React from 'react';
import { BrowserRouter } from 'react-router-dom';
import thunk from 'redux-thunk';

import {
  IS_DEVELOPMENT,
  LOCALSTORAGE_PERSIST_KEY,
  PUBLIC_URL,
} from '../configs/constants';
import reducers from '../configs/reducers';
import routes from '../configs/routes';
import states from '../configs/states';
import StoreProvider from '../core/contexts/store';
import Layout from './components/layout';

const Application = () => (
  <React.StrictMode>
    <StoreProvider
      debugMode={IS_DEVELOPMENT}
      middlewares={[thunk]}
      persistKey={LOCALSTORAGE_PERSIST_KEY}
      reducers={reducers}
      states={states}>
      <BrowserRouter basename={PUBLIC_URL}>
        <Layout routes={routes} />
      </BrowserRouter>
    </StoreProvider>
  </React.StrictMode>
);

Application.displayName = 'Application';

export default Application;
