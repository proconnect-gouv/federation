<!DOCTYPE html>
<html lang="fr">
  <head>
    <%- include('includes/head') %>
    <title><%= locals.titleFront %></title>
  </head>

  <body>
    <%- include('includes/menu') %>

    <section class="welcome">
      <div class="container text-center">
        <h1>Mes données</h1>
      </div>
    </section>

    <section class="container">
      <div class="row">
        <section class="col-lg-6">
          <br />
          <h2>Identité</h2>
          <br />
          <div class="jumbotron">
            <% if (locals.idpIdentity) { %>

            <p>Prénom(s) : <strong><%= locals.idpIdentity.given_name %></strong></p>
            <p>Nom(s) : <strong><%= locals.idpIdentity.usual_name || locals.idpIdentity.family_name; %></strong></p>
            <p>Email : <strong><%= locals.idpIdentity.email %></strong></p>
            <p>Siret :  <strong><%= locals.idpIdentity.siret || '/'; %></strong></p>
            <p>Sub : <strong><%= locals.idpIdentity.sub %></strong></p>

            <hr>
            
            <p>Sexe :  <strong><%= (locals.idpIdentity.gender) ? (locals.idpIdentity.gender === 'male' ? 'Homme' : 'Femme') : '/'; %></strong></p>
            <p>Nom d'usage : <strong><%= locals.idpIdentity.preferred_username || '/'; %></strong></p>
            <p>Date de naissance : <strong><%= locals.idpIdentity.birthdate || '/'; %></strong></p>
            <p>COG (lieu de naissance) : <strong><%= locals.idpIdentity.birthplace || '/'; %></strong></p>
            <p>COG (Pays de naissance) : <strong><%= locals.idpIdentity.birthcountry || '/'; %></strong></p>
            <p>Population d'appartenance : <strong><%= locals.idpIdentity.belonging_population || '/'; %></strong></p>
            <p>Service d'affectation : <strong><%=locals.idpIdentity.organizational_unit || '/'; %></strong></p>
            <p>Fonction :  <strong><%= locals.idpIdentity.position || '/'; %></strong></p>
            <p>Métier :  <strong><%= locals.idpIdentity.job || '/'; %></strong></p>
            <p>Téléphone :  <strong><%= locals.idpIdentity.phone || '/'; %></strong></p>
            <p>Addresse : <strong><%= locals.idpIdentity.address || '/'; %></strong></p>
            <p>ACR values : <strong><%= locals.idpIdentity.acr || '/'; %></strong></p>
            
            <% } else { %>
            <p class="col d-flex justify-content-center">
              Vous devez vous authentifier afin d'accéder à vos données personnelles.
            </p>
            <% } %>
          </div>
        </section>
        <section class="col-lg-6">
          <br />
          <h2>JSON</h2>
          <br />
          <div class="jumbotron">
            <pre id="json"><%- JSON.stringify(locals.idpIdentity, null, 2) %></pre>
          </div>
        </section>
      </div>
    </section>

    <%- include('includes/footer') %>
  </body>
</html>
