export const role = {
  OPERATOR: 'operator',
  ADMIN: 'admin',
  SECURITY: 'security'
}

export function connectToExploitation(role = 'operator') {
  // Display all FC+ apps
  cy.visit(`${Cypress.env('ALL_APPS_LISTED')}`);
  cy.url().should('include', 'https://docker.dev-franceconnect.fr/fcp.html');

  // click on exploitation
  cy.get('#exploitation-high').click();

  // Login
  const { USER_NAME, USER_PASS } = getUserInfoByRole(role);
  cy.login(USER_NAME, USER_PASS);
}

export function getUserInfoByRole(role = 'operator') {
  return Cypress.env('EXPLOITATION').find(({ ROLE }) => ROLE === role);
}
