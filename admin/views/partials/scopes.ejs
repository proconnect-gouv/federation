<div class="form-group row">
  <label class="col-2 col-form-label mt-2">Scopes : </label>
  <div class="form-group m-3 col-md-9">
    <% if (!locals.messages.values[0].scopes ||
    locals.messages.values[0].scopes.length === 0) { %>
    <p class="text-danger">
      Aucun filtre n'est appliqu√© sur les scopes de ce FS
    </p>
    <% } %> <% for (const [groupId, scopes] of Object.entries(locals.scopesGroupedByFd)) { %>
    <div data-init="selectScopesGroup" id="<%= groupId; %>">
      <b><%= groupId; %></b> &nbsp;&nbsp; | &nbsp;&nbsp; TOUS <input id="group-<%= groupId; %>" type="checkbox" />
      <p>
        <% scopes.forEach(({fd, scope}) => { %>
        <div class="form-check form-check-inline">
          <input
            data-fd="<%= fd; %>"
            type="checkbox"
            class="form-check-input"
            id="scope-<%= scope %>"
            name="scopes"
            value="<%= scope %>"
            <%= locals.scopesSelected.includes(scope) ? 'checked' : '' %>
            <%= scope === 'openid' && locals.scopesSelected.includes(scope) ? 'disabled' : '' %>
          >
            <label class="form-check-label" for="scope-<%= scope %>"
          ><%= scope %></label>
        </div>
        <% }); %>
      </p>
    </div>
    <% } %>
  </div>
</div>
