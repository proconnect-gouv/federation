<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="<%= APP_ROOT %>/favicon.ico" />
    <script src="<%= APP_ROOT %>/main.js"></script>
    <link rel="stylesheet" href="<%= APP_ROOT %>/main.css"/>
    <title>403 - Accès refusé</title>
  </head>
  <body id="forbidden-exception">
    <% if (locals.CURRENT_USER !== undefined) { %>
    <% include partials/header.ejs %>
    <% } %>
    <div class="forbidden-container">
      <h1>
        4
        <div class="lock">
          <div class="top"></div>
          <div class="bottom"></div>
        </div>
        3
      </h1>
      <p><strong>Accès refusé</strong></p>
      <p>Vous ne pouvez pas accéder au contenu<p>
      <p>Retourner sur la <a href="<%= APP_ROOT %>" class="text-white" title="Retourner sur la page d'accueil">page d'accueil</a></p>
    </div>
    <script type="text/javascript">
      const interval = 500;

      function generateLocks() {
        const lock = document.createElement('div'),
              position = generatePosition();
        lock.innerHTML = '<div class="top"></div><div class="bottom"></div>';
        lock.style.top = position[0];
        lock.style.left = position[1];
        lock.classList = 'lock'// generated';
        document.body.appendChild(lock);
        setTimeout(()=>{
          lock.style.opacity = '1';
          lock.classList.add('generated');
        },100);
        setTimeout(()=>{
          lock.parentElement.removeChild(lock);
        }, 2000);
      }
      function generatePosition() {
        const x = Math.round((Math.random() * 100) - 10) + '%';
        const y = Math.round(Math.random() * 100) + '%';
        return [x,y];
      }
      setInterval(generateLocks,interval);
      generateLocks();
    </script>
  </body>
</html>
