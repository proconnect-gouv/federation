<!DOCTYPE html>
<html lang="fr">
<head>
    <% include partials/head.ejs %>
</head>
<body>
<div class="container">
    <% include partials/header.ejs %>
    <div class="row">
        <div class="col-12">
            <p class="h2">Gestion des utilisateurs</p>
            <p id="users-count"><i><%= users.length %> utilisateurs</i></p>

            <table class="table table-hover table-light shadow-sm">
                <thead class="thead-light">
                    <tr>
                        <th scope="col">Login</th>
                        <th scope="col">Email</th>
                        <th scope="col">RÃ´les</th>
                    </tr>
                </thead>
                <tbody>
                <% users.forEach(function(user){ %>
                    <tr id="users">
                        <th scope="row"><%= user.username %></th>
                        <td><%= user.email %></td>
                        <td><%  user.roles.forEach(function (role) { %>
                                <span class="badge badge-secondary p-1"><%= USER_ROLES_OPTIONS.find(({value}) => value === role).label %></span>
                        <% }) %>
                        </td>
                    </tr>
                <% }) %>
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
</html>
