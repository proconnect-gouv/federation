import $ from 'jquery';
import "bootstrap/dist/js/bootstrap";

export function confirmDialog (message, handler) {
	$(`<div class="modal fade" id="myConfirmModal" tabindex="-1" role="dialog"> 
		<div class="modal-dialog modal-dialog-centered" role="document"> 
			<!-- Modal content--> 
			<div class="modal-content"> 
				<div class="custom-modal-header d-flex justify-content-center">
					<i class="fa fa-times"></i>
				</div>
				<div class="modal-body">
					<div class="container-fluid">
						<div class="row">
							<div class="col-12 text-center">${message}</div>
						</div>
					</div>
				</div>
				<div class="modal-footer d-flex justify-content-center" style=""> 
					<a class="btn btn-danger btn-no">Annuler</a>
					<a class="btn btn-success btn-yes">Confirmer</a>
				</div>
			</div> 
    </div> 
	</div>`).appendTo('body');

	//Trigger the modal
  $("#myConfirmModal").modal({
		backdrop: 'static',
		keyboard: false
	});
	
	//Pass true to a callback function
	$(".btn-yes").click(function () {
		handler(true);
		$("#myConfirmModal").modal("hide");
	});

	//Pass false to callback function
	$(".btn-no").click(function () {
		handler(false);
		$("#myConfirmModal").modal("hide");
	});

	//Remove the modal once it is closed.
	$("#myConfirmModal").on('hidden.bs.modal', function () {
		$("#myConfirmModal").remove();
 });
}