import { Injectable } from '@nestjs/common';
import { InjectRepository } from '@nestjs/typeorm';
import { Repository } from 'typeorm';
import { ScopeLabels } from './scope-labels.entity';

@Injectable()
export class DataProviderService {
  constructor(
    @InjectRepository(ScopeLabels, 'fc-mongo')
    private readonly scopeLabelsRepository: Repository<ScopeLabels>,
  ) {}
  async getScopeAndLabelCount() {
    const scopeAndLabelsList: number = await this.scopeLabelsRepository.count();
    return scopeAndLabelsList;
  }

  async getScopesAndLabels(): Promise<ScopeLabels[]> {
    const scopesAndLabels = await this.scopeLabelsRepository.find();
    return scopesAndLabels;
  }
}
