import * as mongoose from 'mongoose';
import { paginatePlugin } from '@fc/shared/pagination/mongoose.plugin';

export const ProviderSchema = new mongoose.Schema(
  {
    name: String,
    url: String,
    hoverMsg: String,
    hoverRedirectLink: String,
    display: Boolean,
    title: String,
    image: String,
    alt: String,
    imageFocus: String,
    eidas: Number,
    mailto: [String],
    statusURL: String,
    authzURL: String,
    tokenURL: String,
    userInfoURL: String,
    endSessionURL: String,
    discoveryUrl: String,
    discovery: Boolean,
    clientID: String,
    client_secret: String,
    order: Number,
    jwksURL: String,
    jwtAlgorithm: [String],
    trustedIdentity: Boolean,
    specificText: String,
    active: Boolean,
    createdAt: Date,
    updatedAt: Date,
    updatedBy: String,
    blacklistByIdentityProviderActivated: Boolean,
    WhitelistByServiceProviderActivated: Boolean,
    userinfo_encrypted_response_enc: String,
    userinfo_encrypted_response_alg: String,
    userinfo_signed_response_alg: String,
    id_token_signed_response_alg: String,
    id_token_encrypted_response_alg: String,
    id_token_encrypted_response_enc: String,
    token_endpoint_auth_method: String,
  },
  {
    // Mongoose add 's' at the end of the collection name without this argument
    collection: 'provider',
  },
);

ProviderSchema.plugin(paginatePlugin);
