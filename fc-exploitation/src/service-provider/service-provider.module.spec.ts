import { Test } from '@nestjs/testing';
import { ServiceProviderModule } from './service-provider.module';
import { ServiceProvider } from './service-provider.entity';
import { getRepositoryToken } from '@nestjs/typeorm';

describe('ServiceProviderModule', () => {
  it('loads the ServiceProvider repository', async () => {
    const module = await Test.createTestingModule({
      imports: [ServiceProviderModule],
    })
      .overrideProvider(getRepositoryToken(ServiceProvider, 'fc-mongo'))
      .useValue(jest.fn())
      .compile();

    const serviceProviderRepository = module.get(
      getRepositoryToken(ServiceProvider, 'fc-mongo'),
    );

    expect(serviceProviderRepository).toBeDefined();
  });
});
