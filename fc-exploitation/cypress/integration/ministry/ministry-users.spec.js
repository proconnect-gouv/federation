import {
  USER_OPERATOR,
  USER_PASS,
  USER_SECURITY,
  USER_ONLY_ADMIN
} from '../../../../shared/cypress/support/constants';

const BASE_URL = Cypress.config('baseUrl');

describe('Acces to ministries page', () => {
  let basicConfiguration;

  before(() => cy.resetEnv('mongoFC'));
  beforeEach(() => {
    basicConfiguration = {
      totp: true,
      fast: true,
    };
  });

  it('shows ministries menu for operator users', () => {
    cy.login(USER_OPERATOR, USER_PASS);
    cy.contains('Ministères').should('exist');
  });

  it('hides ministries menu for security users', () => {
    cy.login(USER_SECURITY, USER_PASS);
    cy.contains('Ministères').should('not.exist');
  });

  it('hides ministries menu for admin users', () => {
    cy.forceLogin(USER_ONLY_ADMIN, USER_PASS);
    cy.contains('Ministères').should('not.exist');
  });
});
