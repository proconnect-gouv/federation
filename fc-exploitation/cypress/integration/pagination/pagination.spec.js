import { USER_OPERATOR, USER_PASS } from '../../../../shared/cypress/support/constants';

const BASE_URL = Cypress.config('baseUrl');

describe('Pagination', () => {
  beforeEach(() => {
    cy.login(USER_OPERATOR, USER_PASS);
  });

  describe('Service provider page', () => {
    describe('Success Case', () => {
      it('should exist if there is more than the ten items in on the page', () => {
        cy.visit(`/service-provider?page=1&limit=1`);
        cy.get('#pagination-container').should('be.visible');
      });

      it('Should on click change to the page correct page number', () => {
        cy.visit(`/service-provider?page=1&limit=1`);
        cy.get('#pagination-container > li').contains('2').click();
        cy.url().should('eq', `${BASE_URL}/service-provider?limit=1&page=2`);
      });

      it('Should show a selected color on the current page', () => {
        cy.visit(`/service-provider?page=1&limit=1`);
        cy.get('#pagination-container > li').contains('2').click();
        cy.get('#pagination-container > li').eq('2').should('have.class', 'active');
      });
    });
    describe('Failling Case', () => {
      it('should not exist if there is more than the ten items in on the page', () => {
        cy.visit(`/service-provider?page=1&limit=100000000000`);
        cy.get('#pagination').should('not.exist');
      });
    });
  });

  describe('Identity provider page', () => {
    describe('Success Case', () => {
      it('should exist if there is more than the ten items in on the page', () => {
        cy.visit(`/identity-provider?page=1&limit=1`);
        cy.get('#pagination-container').should('be.visible');
      });

      it('Should on click change to the page correct page number', () => {
        cy.visit(`/identity-provider?page=1&limit=1`);
        cy.get('#pagination-container > li').contains('2').click();
        cy.url().should('eq', `${BASE_URL}/identity-provider?limit=1&page=2`);
      });

      it('Should show a selected color on the current page', () => {
        cy.visit(`/identity-provider?page=1&limit=1`);
        cy.get('#pagination-container > li').contains('2').click();
        cy.get('#pagination-container > li').eq('2').should('have.class', 'active');
      });
    });
    describe('Failling Case', () => {
      it('should not exist if there is more than the ten items in on the page', () => {
        cy.visit(`/identity-provider?page=1&limit=10000000000`);
        cy.get('#pagination-container').should('not.exist');
      });
    });
  });

  describe('Account page', () => {
    describe('Success Case', () => {
      it('should exist if there is more than the ten items in on the page', () => {
        cy.visit(`/account?page=1&limit=1`);
        cy.get('#pagination-container').should('be.visible');
      });

      it('Should on click change to the page correct page number', () => {
        cy.visit(`/account?page=1&limit=1`);
        cy.get('#pagination-container > li').contains('2').click();
        cy.url().should('eq', `${BASE_URL}/account?limit=1&page=2`);
      });

      it('Should show a selected color on the current page', () => {
        cy.visit(`/account?page=1&limit=1`);
        cy.get('#pagination-container > li').contains('2').click();
        cy.get('#pagination-container > li').eq('2').should('have.class', 'active');
      });
    });
    describe('Failling Case', () => {
      it('should not exist if there is more than the ten items in on the page', () => {
        cy.visit(`/account?page=1&limit=10000000000`);
        cy.get('#pagination-container').should('not.exist');
      });
    });
  });
});
