import { login } from '../login.util';
import { BASE_URL, USER_OPERATOR, USER_PASS } from '../constants.util';

describe('Pagination', () => {
  beforeEach(() => {
    login(USER_OPERATOR, USER_PASS);
  });

  describe('Service provider page', () => {
    describe('Success Case', () => {
      it('should exist if there is more than the ten items in on the page', () => {
        cy.get('#pagination').should('be.visible');
      });

      it('Should on click change to the page correct page number', () => {
        cy.get('#pagination-container > li').first().next().click();
        cy.url().should('eq', `${BASE_URL}/service-provider?page=2&limit=10`)
      });

      it('Should show a selected color on the current page', () => {
        cy.get('#pagination-container > li').first().should('have.class', 'active');
        cy.get('#pagination-container > li').first().next().click();
        cy.get('#pagination-container > li').first().next().should('have.class', 'active');
      });
    });
  });

  describe('Account page', () => {
    describe('Success Case', () => {
      it('should exist if there is more than the ten items in on the page', () => {
        cy.get('#pagination').should('be.visible');
      });

      it('Should on click change to the page correct page number', () => {
        cy.get('#pagination-container > li').first().next().click();
        cy.url().should('eq', `${BASE_URL}/account?page=2&limit=10`)
      });

      it('Should show a selected color on the current page', () => {
        cy.get('#pagination-container > li').first().should('have.class', 'active');
        cy.get('#pagination-container > li').first().next().click();
        cy.get('#pagination-container > li').first().next().should('have.class', 'active');
      });
    });
  });
});
